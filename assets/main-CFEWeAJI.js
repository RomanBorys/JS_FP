/* empty css               */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const me="your-energy-favorites";function ke(e){try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function Ae(e){return{_id:e._id,name:e.name,rating:e.rating,burnedCalories:e.burnedCalories,time:e.time,bodyPart:e.bodyPart,target:e.target,gifUrl:e.gifUrl,imgURL:e.imgURL,equipment:e.equipment,popularity:e.popularity,description:e.description}}function T(){const e=localStorage.getItem(me);return e?ke(e):[]}function ge(e){localStorage.setItem(me,JSON.stringify(e))}function ye(e){return e?T().some(n=>n._id===e):!1}function Re(e){if(!e||!e._id)return!1;const t=T();return t.some(n=>n._id===e._id)||(t.push(Ae(e)),ge(t)),!0}function pe(e){const n=T().filter(i=>i._id!==e);return ge(n),n}function $e(e){return!e||!e._id?!1:ye(e._id)?(pe(e._id),!1):(Re(e),!0)}function re(){const e=document.getElementById("favoritesList"),t=document.getElementById("favoritesEmpty"),n=document.getElementById("favoriteExerciseCardTemplate");if(!e||!t||!n)return;const i=T();if(e.innerHTML="",i.length===0){t.classList.remove("is-hidden"),e.classList.add("is-hidden");return}t.classList.add("is-hidden"),e.classList.remove("is-hidden"),i.forEach(r=>{const o=n.content.cloneNode(!0),a=o.querySelector(".exercises__detail-card"),C=o.querySelector(".exercises__detail-rating-value"),I=o.querySelector(".exercises__detail-title"),A=o.querySelector(".exercises__detail-calories"),M=o.querySelector(".exercises__detail-bodypart"),ne=o.querySelector(".exercises__detail-target");if(a&&(a.dataset.exerciseId=r._id||""),C){const R=r.rating?Number(r.rating):0;C.textContent=R.toFixed(1)}if(I&&(I.textContent=r.name||"Unknown exercise"),A){const R=r.burnedCalories||0,Fe=r.time||0;A.textContent=`${R} / ${Fe} min`}M&&(M.textContent=r.bodyPart||"-"),ne&&(ne.textContent=r.target||"-"),e.appendChild(o)})}function ie(){const e=document.getElementById("favoritesList");e&&(e.addEventListener("click",t=>{const n=t.target.closest("[data-favorite-remove]");if(!n)return;const i=n.closest(".exercises__detail-card"),r=i?i.dataset.exerciseId:null;r&&(pe(r),re())}),re())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ie):ie();const oe="https://your-energy.b.goit.study/api",F={exercises:`${oe}/exercises`,filters:`${oe}/filters`};let g="Muscles",v=null,k=!1,X="";function _e(){const e=window.innerWidth;return e>=768&&e<1440&&k?10:12}let c,w,$,H,E,L,b,s,j,xe,P,V,he,ve,Ee,Le,be,Se,u,p,z,N,l,J,_,Q,W,O,f,m=null,Z=0;async function Ne(e,t=1){try{const n=new URLSearchParams({filter:e,page:String(t),limit:String(_e())}),i=await fetch(`${F.filters}?${n}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(n){return console.error("Error fetching filters:",n),Me("Failed to load categories. Please try again later."),null}}async function Oe(e,t,n=1,i=""){try{const r=new URLSearchParams({page:String(n),limit:String(_e())});t==="Muscles"?r.append("muscles",e):t==="Body parts"?r.append("bodypart",e):t==="Equipment"&&r.append("equipment",e),i&&r.append("keyword",i);const o=await fetch(`${F.exercises}?${r}`);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(r){return console.error("Error fetching exercises:",r),Me("Failed to load exercises. Please try again later."),null}}async function De(e){try{const t=await fetch(`${F.exercises}/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Error fetching exercise detail:",t),null}}async function Ue(e,t){const n=await fetch(`${F.exercises}/${e}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=(n.headers.get("content-type")||"").includes("application/json")?await n.json():null;if(!n.ok){const a=o&&o.message?o.message:"Failed to submit rating. Please try again later.";throw new Error(a)}return o}function He(e){const n=document.getElementById("exerciseCardTemplate").content.cloneNode(!0),i=n.querySelector(".exercises__card"),r=n.querySelector(".exercises__card-img"),o=n.querySelector(".exercises__card-title"),a=n.querySelector(".exercises__card-subtitle");return r.src=e.imgURL||e.gifUrl||"../img/placeholder.jpg",r.alt=`${e.name} category`,o.textContent=e.name,a.textContent=e.filter||g,i.addEventListener("click",()=>{Qe(e.name)}),n}function je(e){const n=document.getElementById("exerciseDetailCardTemplate").content.cloneNode(!0),i=n.querySelector(".exercises__detail-card"),r=n.querySelector(".exercises__detail-rating-value"),o=n.querySelector(".exercises__detail-title"),a=n.querySelector(".exercises__detail-calories"),C=n.querySelector(".exercises__detail-bodypart"),I=n.querySelector(".exercises__detail-target");return i.dataset.exerciseId=e._id,r.textContent=e.rating?Number(e.rating).toFixed(1):"0.0",o.textContent=e.name||"Unknown exercise",a.textContent=`${e.burnedCalories||0} / ${e.time||3} min`,C.textContent=e.bodyPart||"-",I.textContent=e.target||"-",n.querySelector(".exercises__detail-start").addEventListener("click",M=>{M.stopPropagation(),Ye(e._id)}),n}function Ve(e){if(c){if(c.innerHTML="",c.classList.remove("exercises__list--detail"),!e||e.length===0){c.innerHTML='<li class="exercises__empty">No categories found</li>';return}e.forEach(t=>{c.appendChild(He(t))})}}function ze(e){if(c){if(c.innerHTML="",c.classList.add("exercises__list--detail"),!e||e.length===0){c.innerHTML='<li class="exercises__empty">No exercises found</li>';return}e.forEach(t=>{c.appendChild(je(t))})}}function Ce(e,t,n=!1){if(!w||(w.innerHTML="",t<=1))return;const i=5;let r=Math.max(1,e-Math.floor(i/2)),o=Math.min(t,r+i-1);o-r<i-1&&(r=Math.max(1,o-i+1));for(let a=r;a<=o;a++)w.appendChild(Je(a,a,a===e,n))}function Je(e,t,n=!1,i=!1){const r=document.createElement("button");return r.className="exercises__pagination-btn",n&&r.classList.add("exercises__pagination-btn--active"),r.textContent=e,i?r.addEventListener("click",()=>te(v,g,t)):r.addEventListener("click",()=>ee(g,t)),r}async function ee(e,t=1){k=!1,v=null,X="",We(),Ie();const n=await Ne(e,t);if(n&&n.results){const i=parseInt(n.page,10)||t,r=parseInt(n.totalPages,10)||1;Ve(n.results),Ce(i,r,!1),g=e}}async function te(e,t,n=1){Ie();const i=await Oe(e,t,n,X);if(i&&i.results){const r=parseInt(i.page,10)||n,o=parseInt(i.totalPages,10)||1;ze(i.results),Ce(r,o,!0)}else c&&(c.innerHTML='<li class="exercises__error">Failed to load exercises</li>')}function Qe(e){k=!0,v=e,Ke(e),te(e,g,1)}function We(){b&&(b.textContent=""),E&&(E.style.display="none"),H&&(H.style.display=""),L&&(L.value="")}function Ke(e){b&&(b.innerHTML=` / <span class="exercises__category-name">${Ge(e)}</span>`),E&&(E.style.display="")}function Ge(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ie(){c&&(c.innerHTML='<li class="exercises__loading">Loading...</li>')}function Me(e){c&&(c.innerHTML=`<li class="exercises__error">${e}</li>`)}async function Ye(e){if(!s)return;Xe(),D("loading");const t=await De(e);if(!t){D("error","Failed to load exercise details. Please try again later.");return}nt(t),D("ready")}function Xe(){s.classList.add("is-open"),document.body.classList.add("no-scroll"),s.setAttribute("aria-hidden","false")}function K(){s&&(s.classList.remove("is-open"),s.classList.remove("exercises__modal--loading","exercises__modal--error"),document.body.classList.remove("no-scroll"),s.setAttribute("aria-hidden","true"))}function Ze(){l&&(s&&s.classList.contains("is-open")&&K(),et(),q("ready"),l.classList.add("is-open"),document.body.classList.add("no-scroll"),l.setAttribute("aria-hidden","false"))}function G(){l&&(l.classList.remove("is-open"),l.classList.remove("exercises__modal--loading","exercises__modal--error"),l.setAttribute("aria-hidden","true"),(!s||!s.classList.contains("is-open"))&&document.body.classList.remove("no-scroll"))}function q(e,t=""){l&&(l.classList.remove("exercises__modal--loading","exercises__modal--error"),e==="loading"&&(l.classList.add("exercises__modal--loading"),f&&(f.textContent="")),e==="error"&&(l.classList.add("exercises__modal--error"),f&&(f.textContent=t)),e==="ready"&&f&&(f.textContent=""))}function et(){Z=0,Q&&(Q.value=""),W&&(W.value=""),we(0)}function we(e){if(!_||!J)return;const t=_.querySelectorAll(".exercises__rating-star"),n=Math.round(e);J.textContent=Number(e).toFixed(1),t.forEach((i,r)=>{r<n?i.classList.add("is-active"):i.classList.remove("is-active")})}async function tt(e){if(e.preventDefault(),!m)return;const t={rating:Number(Z)||0};try{q("loading");const n=await Ue(m._id,t),i=n&&typeof n.rating=="number"?n.rating:t.rating;m.rating=i,P&&(P.textContent=i.toFixed(1)),Be(i);const r=document.querySelector(`.exercises__detail-card[data-exercise-id="${m._id}"]`);if(r){const o=r.querySelector(".exercises__detail-rating-value");o&&(o.textContent=i.toFixed(1))}q("ready"),G()}catch(n){q("error",n.message)}}function D(e,t=""){s&&(s.classList.remove("exercises__modal--loading","exercises__modal--error"),e==="loading"&&(s.classList.add("exercises__modal--loading"),u&&(u.textContent="")),e==="error"&&(s.classList.add("exercises__modal--error"),u&&(u.textContent=t)),e==="ready"&&u&&(u.textContent=""))}function nt(e){if(!s)return;m=e,j.src=e.gifUrl||e.imgURL||"../img/placeholder.jpg",j.alt=e.name||"Exercise image",xe.textContent=e.name||"Exercise";const t=e.rating?Number(e.rating):0;P.textContent=t.toFixed(1),Be(t),he.textContent=e.target||"-",ve.textContent=e.bodyPart||"-",Ee.textContent=e.equipment||"-",Le.textContent=e.popularity||"0",be.textContent=`${e.burnedCalories} / ${e.time} min`,Se.textContent=e.description||"",qe(ye(e._id))}function qe(e){z&&(z.textContent=e?"Remove from favorites":"Add to favorites",p&&p.classList.toggle("is-active",e))}function Be(e){if(!V)return;const t=V.querySelectorAll(".exercises__modal-star"),n=Math.round(e);t.forEach((i,r)=>{r<n?i.classList.add("is-active"):i.classList.remove("is-active")})}function rt(e,t){let n;return function(...r){const o=()=>{clearTimeout(n),e(...r)};clearTimeout(n),n=setTimeout(o,t)}}function it(){$=document.querySelectorAll(".exercises__tab");const e=document.createElement("div");e.className="exercises__tab--active_line";const t=document.querySelector(".exercises__tab--active");t&&t.appendChild(e),$.forEach(n=>{n.addEventListener("click",()=>{$.forEach(r=>r.classList.remove("exercises__tab--active")),n.classList.add("exercises__tab--active"),n.appendChild(e);const i=n.dataset.filter;ee(i,1)})})}function ot(){L&&L.addEventListener("input",rt(e=>{X=e.target.value.trim(),k&&v&&te(v,g,1)},300))}function se(){c=document.getElementById("exercisesList"),w=document.getElementById("exercisesPagination"),H=document.getElementById("exercisesTabs"),E=document.getElementById("exercisesSearch"),L=document.getElementById("exercisesSearchInput"),b=document.getElementById("exercisesCategoryTitle"),s=document.getElementById("exerciseModal"),j=document.getElementById("exerciseModalImg"),xe=document.getElementById("exerciseModalTitle"),P=document.getElementById("exerciseModalRatingValue"),V=document.getElementById("exerciseModalStars"),he=document.getElementById("exerciseModalTarget"),ve=document.getElementById("exerciseModalBodyPart"),Ee=document.getElementById("exerciseModalEquipment"),Le=document.getElementById("exerciseModalPopularity"),be=document.getElementById("exerciseModalCalories"),Se=document.getElementById("exerciseModalDescription"),u=document.getElementById("exerciseModalError"),p=s?s.querySelector(".exercises__modal-btn--primary"):null,z=s?s.querySelector(".exercises__modal-btn-text"):null,N=document.getElementById("exerciseModalRatingBtn"),l=document.getElementById("ratingModal"),J=document.getElementById("ratingModalValue"),_=document.getElementById("ratingModalStars"),Q=document.getElementById("ratingEmailInput"),W=document.getElementById("ratingReviewInput"),O=document.getElementById("ratingModalForm"),f=document.getElementById("ratingModalError"),c&&(it(),ot(),s&&(s.querySelectorAll("[data-modal-close]").forEach(t=>t.addEventListener("click",K)),document.addEventListener("keydown",t=>{if(t.key==="Escape"){if(l&&l.classList.contains("is-open")){G();return}s.classList.contains("is-open")&&K()}})),l&&l.querySelectorAll("[data-modal-close]").forEach(t=>t.addEventListener("click",G)),p&&p.addEventListener("click",()=>{if(!m)return;const e=$e(m);qe(e)}),N&&N.addEventListener("click",Ze),_&&_.addEventListener("click",e=>{const t=e.target.closest(".exercises__rating-star");if(!t)return;const n=Number(t.dataset.value||0);Z=n,we(n)}),O&&O.addEventListener("submit",tt),ee(g))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",se):se();const Pe=document.body,ae=document.querySelector(".header_menu-btn"),d=document.querySelector(".mobile-menu"),ce=document.querySelector(".mobile-menu__content"),le=document.querySelector(".mobile-menu__close"),Te=document.querySelectorAll("[data-nav]"),st=()=>{d&&(d.classList.add("mobile-menu--open"),d.setAttribute("aria-hidden","false"),Pe.style.overflow="hidden")},S=()=>{d&&(d.classList.remove("mobile-menu--open"),d.setAttribute("aria-hidden","true"),Pe.style.overflow="")},at=e=>{const t=(e||"").toLowerCase();return t.endsWith("/page-2.html")||t.endsWith("page-2.html")||t.endsWith("/favourites.html")||t.endsWith("favourites.html")},ct=()=>{const e=window.location.pathname,t=at(e);Te.forEach(n=>{const i=n.dataset.nav==="favorites",r=n.dataset.nav==="home",o=t?i:r;n.classList.contains("header_nav-link")&&n.classList.toggle("header_nav-link-active",o),n.classList.contains("mobile-menu__link")&&n.classList.toggle("mobile-menu__link--active",o)})};ae&&d&&ae.addEventListener("click",st);le&&d&&le.addEventListener("click",S);d&&d.addEventListener("click",e=>{if(!ce){e.target===d&&S();return}ce.contains(e.target)||S()});Te.forEach(e=>{e.addEventListener("click",S)});document.addEventListener("keydown",e=>{e.key==="Escape"&&S()});ct();const lt="https://your-energy.b.goit.study/api",dt=`${lt}/quote`;let x,h,Y,y;function B(){if(!x||!h)return;const e=x.offsetHeight;e>0&&(h.style.height=`${e}px`,Y&&(Y.style.height="100%"))}function ut(e){const t=document.querySelector(".inspiration__quoteBlock__text_quote"),n=document.querySelector(".inspiration__quoteBlock__author");if(!t||!n||!e)return;const i=typeof e.quote=="string"?e.quote.trim():"",r=typeof e.author=="string"?e.author.trim():"";i&&(t.textContent=i),r&&(n.textContent=r),requestAnimationFrame(B)}async function ft(){try{const e=await fetch(dt,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();ut(t)}catch(e){console.error("Error fetching quote:",e)}}function de(){window.__quoteInitDone||(window.__quoteInitDone=!0,x=document.querySelector(".inspiration__quoteBlock"),h=document.querySelector(".inspiration__image"),Y=h?h.querySelector("img"):null,B(),y&&(y.disconnect(),y=null),x&&typeof ResizeObserver<"u"?(y=new ResizeObserver(B),y.observe(x)):window.addEventListener("resize",B),ft())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",de):de();const mt="https://your-energy.b.goit.study/api",gt=`${mt}/subscription`;async function yt(e){const t=await fetch(gt,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e})}),r=(t.headers.get("content-type")||"").includes("application/json")?await t.json():null;if(!t.ok){const o=r&&typeof r.message=="string"&&r.message.trim()?r.message.trim():"Subscription failed. Please try again later.";throw new Error(o)}return r}function U(e,t,n){e&&(e.textContent=t||"",e.classList.remove("is-success","is-error"),n&&e.classList.add(n))}function ue(e,t){if(!e)return;const n=e.querySelector('button[type="submit"]'),i=e.querySelector('input[type="email"]');n&&(n.disabled=t,n.textContent=t?"Sending...":"Send"),i&&(i.disabled=t),e.setAttribute("aria-busy",String(t))}function fe(){if(window.__footerSubscribeInitDone)return;window.__footerSubscribeInitDone=!0;const e=document.getElementById("footerSubscribeForm"),t=document.getElementById("footerSubscribeInput"),n=document.getElementById("footerSubscribeMessage");!e||!t||!n||e.addEventListener("submit",async i=>{if(i.preventDefault(),!t.checkValidity()){t.reportValidity();return}const r=t.value.trim();if(r){U(n,"",null),ue(e,!0);try{const o=await yt(r),a=o&&typeof o.message=="string"&&o.message.trim()?o.message.trim():"Thanks for subscribing!";U(n,a,"is-success"),e.reset()}catch(o){U(n,o.message||"Subscription failed. Please try again later.","is-error")}finally{ue(e,!1)}}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",fe):fe();
//# sourceMappingURL=main-CFEWeAJI.js.map
