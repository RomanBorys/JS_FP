{"version":3,"file":"main-CFEWeAJI.js","sources":["../../src/js/favorites-section.js","../../src/js/exercises-page.js","../../src/js/mobile-nav.js","../../src/js/daily-quote.js","../../src/js/newsletter.js"],"sourcesContent":["const STORAGE_KEY = 'your-energy-favorites';\n\nfunction safeParse(value) {\n  try {\n    const parsed = JSON.parse(value);\n    return Array.isArray(parsed) ? parsed : [];\n  } catch (error) {\n    return [];\n  }\n}\n\nfunction normalizeExercise(exercise) {\n  return {\n    _id: exercise._id,\n    name: exercise.name,\n    rating: exercise.rating,\n    burnedCalories: exercise.burnedCalories,\n    time: exercise.time,\n    bodyPart: exercise.bodyPart,\n    target: exercise.target,\n    gifUrl: exercise.gifUrl,\n    imgURL: exercise.imgURL,\n    equipment: exercise.equipment,\n    popularity: exercise.popularity,\n    description: exercise.description,\n  };\n}\n\nexport function getFavorites() {\n  const raw = localStorage.getItem(STORAGE_KEY);\n  return raw ? safeParse(raw) : [];\n}\n\nfunction setFavorites(list) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));\n}\n\nexport function isFavorite(exerciseId) {\n  if (!exerciseId) return false;\n  const favorites = getFavorites();\n  return favorites.some(item => item._id === exerciseId);\n}\n\nexport function addFavorite(exercise) {\n  if (!exercise || !exercise._id) return false;\n  const favorites = getFavorites();\n  if (favorites.some(item => item._id === exercise._id)) return true;\n\n  favorites.push(normalizeExercise(exercise));\n  setFavorites(favorites);\n  return true;\n}\n\nexport function removeFavorite(exerciseId) {\n  const favorites = getFavorites();\n  const next = favorites.filter(item => item._id !== exerciseId);\n  setFavorites(next);\n  return next;\n}\n\nexport function toggleFavorite(exercise) {\n  if (!exercise || !exercise._id) return false;\n  if (isFavorite(exercise._id)) {\n    removeFavorite(exercise._id);\n    return false;\n  }\n  addFavorite(exercise);\n  return true;\n}\n\nfunction renderFavorites() {\n  const list = document.getElementById('favoritesList');\n  const empty = document.getElementById('favoritesEmpty');\n  const template = document.getElementById('favoriteExerciseCardTemplate');\n\n  if (!list || !empty || !template) return;\n\n  const favorites = getFavorites();\n  list.innerHTML = '';\n\n  if (favorites.length === 0) {\n    empty.classList.remove('is-hidden');\n    list.classList.add('is-hidden');\n    return;\n  }\n\n  empty.classList.add('is-hidden');\n  list.classList.remove('is-hidden');\n\n  favorites.forEach(exercise => {\n    const clone = template.content.cloneNode(true);\n    const card = clone.querySelector('.exercises__detail-card');\n    const ratingValue = clone.querySelector('.exercises__detail-rating-value');\n    const title = clone.querySelector('.exercises__detail-title');\n    const calories = clone.querySelector('.exercises__detail-calories');\n    const bodypart = clone.querySelector('.exercises__detail-bodypart');\n    const target = clone.querySelector('.exercises__detail-target');\n\n    if (card) {\n      card.dataset.exerciseId = exercise._id || '';\n    }\n    if (ratingValue) {\n      const rating = exercise.rating ? Number(exercise.rating) : 0;\n      ratingValue.textContent = rating.toFixed(1);\n    }\n    if (title) {\n      title.textContent = exercise.name || 'Unknown exercise';\n    }\n    if (calories) {\n      const burned = exercise.burnedCalories || 0;\n      const time = exercise.time || 0;\n      calories.textContent = `${burned} / ${time} min`;\n    }\n    if (bodypart) {\n      bodypart.textContent = exercise.bodyPart || '-';\n    }\n    if (target) {\n      target.textContent = exercise.target || '-';\n    }\n\n    list.appendChild(clone);\n  });\n}\n\nfunction initializeFavoritesPage() {\n  const list = document.getElementById('favoritesList');\n  if (!list) return;\n\n  list.addEventListener('click', event => {\n    const removeBtn = event.target.closest('[data-favorite-remove]');\n    if (!removeBtn) return;\n\n    const card = removeBtn.closest('.exercises__detail-card');\n    const id = card ? card.dataset.exerciseId : null;\n    if (!id) return;\n\n    removeFavorite(id);\n    renderFavorites();\n  });\n\n  renderFavorites();\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeFavoritesPage);\n} else {\n  initializeFavoritesPage();\n}\n","import { isFavorite, toggleFavorite } from './favorites-section.js';\n\nconst API_BASE_URL = 'https://your-energy.b.goit.study/api';\nconst API_ENDPOINTS = {\n  exercises: `${API_BASE_URL}/exercises`,\n  filters: `${API_BASE_URL}/filters`,\n};\n\nlet currentFilter = 'Muscles';\nlet currentPage = 1;\nlet currentCategory = null;\nlet isDetailView = false;\nlet searchQuery = '';\n\nfunction getPerPage() {\n  const width = window.innerWidth;\n  if (width >= 768 && width < 1440) {\n    return isDetailView ? 10 : 12;\n  }\n  return 12;\n}\n\nlet exercisesList;\nlet exercisesPagination;\nlet tabButtons;\nlet exercisesTabs;\nlet exercisesSearch;\nlet exercisesSearchInput;\nlet exercisesCategoryTitle;\n\nlet exerciseModal;\nlet exerciseModalImg;\nlet exerciseModalTitle;\nlet exerciseModalRatingValue;\nlet exerciseModalStars;\nlet exerciseModalTarget;\nlet exerciseModalBodyPart;\nlet exerciseModalEquipment;\nlet exerciseModalPopularity;\nlet exerciseModalCalories;\nlet exerciseModalDescription;\nlet exerciseModalError;\nlet exerciseModalFavoriteBtn;\nlet exerciseModalFavoriteBtnText;\nlet exerciseModalRatingBtn;\n\nlet ratingModal;\nlet ratingModalValue;\nlet ratingModalStars;\nlet ratingEmailInput;\nlet ratingReviewInput;\nlet ratingModalForm;\nlet ratingModalError;\n\nlet currentModalExercise = null;\nlet currentRatingValue = 0;\n\nasync function fetchFilters(filter, page = 1) {\n  try {\n    const params = new URLSearchParams({\n      filter,\n      page: String(page),\n      limit: String(getPerPage()),\n    });\n\n    const response = await fetch(`${API_ENDPOINTS.filters}?${params}`);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching filters:', error);\n    showError('Failed to load categories. Please try again later.');\n    return null;\n  }\n}\n\nasync function fetchExercisesByCategory(category, filterType, page = 1, keyword = '') {\n  try {\n    const params = new URLSearchParams({\n      page: String(page),\n      limit: String(getPerPage()),\n    });\n\n    if (filterType === 'Muscles') {\n      params.append('muscles', category);\n    } else if (filterType === 'Body parts') {\n      params.append('bodypart', category);\n    } else if (filterType === 'Equipment') {\n      params.append('equipment', category);\n    }\n\n    if (keyword) {\n      params.append('keyword', keyword);\n    }\n\n    const response = await fetch(`${API_ENDPOINTS.exercises}?${params}`);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching exercises:', error);\n    showError('Failed to load exercises. Please try again later.');\n    return null;\n  }\n}\n\nasync function fetchExerciseById(exerciseId) {\n  try {\n    const response = await fetch(`${API_ENDPOINTS.exercises}/${exerciseId}`);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching exercise detail:', error);\n    return null;\n  }\n}\n\nasync function submitExerciseRating(exerciseId, payload) {\n  const response = await fetch(`${API_ENDPOINTS.exercises}/${exerciseId}/rating`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n\n  const contentType = response.headers.get('content-type') || '';\n  const hasJson = contentType.includes('application/json');\n  const data = hasJson ? await response.json() : null;\n\n  if (!response.ok) {\n    const message = data && data.message ? data.message : 'Failed to submit rating. Please try again later.';\n    throw new Error(message);\n  }\n\n  return data;\n}\n\nfunction createCategoryCard(category) {\n  const template = document.getElementById('exerciseCardTemplate');\n  const clone = template.content.cloneNode(true);\n\n  const card = clone.querySelector('.exercises__card');\n  const img = clone.querySelector('.exercises__card-img');\n  const title = clone.querySelector('.exercises__card-title');\n  const subtitle = clone.querySelector('.exercises__card-subtitle');\n\n  img.src = category.imgURL || category.gifUrl || '../img/placeholder.jpg';\n  img.alt = `${category.name} category`;\n\n  title.textContent = category.name;\n  subtitle.textContent = category.filter || currentFilter;\n\n  card.addEventListener('click', () => {\n    showExercisesForCategory(category.name);\n  });\n\n  return clone;\n}\n\nfunction createDetailExerciseCard(exercise) {\n  const template = document.getElementById('exerciseDetailCardTemplate');\n  const clone = template.content.cloneNode(true);\n\n  const card = clone.querySelector('.exercises__detail-card');\n  const ratingValue = clone.querySelector('.exercises__detail-rating-value');\n  const title = clone.querySelector('.exercises__detail-title');\n  const calories = clone.querySelector('.exercises__detail-calories');\n  const bodypart = clone.querySelector('.exercises__detail-bodypart');\n  const target = clone.querySelector('.exercises__detail-target');\n\n  card.dataset.exerciseId = exercise._id;\n\n  ratingValue.textContent = exercise.rating ? Number(exercise.rating).toFixed(1) : '0.0';\n  title.textContent = exercise.name || 'Unknown exercise';\n\n  calories.textContent = `${exercise.burnedCalories || 0} / ${exercise.time || 3} min`;\n  bodypart.textContent = exercise.bodyPart || '-';\n  target.textContent = exercise.target || '-';\n\n  const startBtn = clone.querySelector('.exercises__detail-start');\n  startBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    openExerciseDetail(exercise._id);\n  });\n\n  return clone;\n}\n\nfunction renderCategories(categories) {\n  if (!exercisesList) return;\n\n  exercisesList.innerHTML = '';\n  exercisesList.classList.remove('exercises__list--detail');\n\n  if (!categories || categories.length === 0) {\n    exercisesList.innerHTML = '<li class=\"exercises__empty\">No categories found</li>';\n    return;\n  }\n\n  categories.forEach(category => {\n    exercisesList.appendChild(createCategoryCard(category));\n  });\n}\n\nfunction renderDetailExercises(exercises) {\n  if (!exercisesList) return;\n\n  exercisesList.innerHTML = '';\n  exercisesList.classList.add('exercises__list--detail');\n\n  if (!exercises || exercises.length === 0) {\n    exercisesList.innerHTML = '<li class=\"exercises__empty\">No exercises found</li>';\n    return;\n  }\n\n  exercises.forEach(exercise => {\n    exercisesList.appendChild(createDetailExerciseCard(exercise));\n  });\n}\n\nfunction renderPagination(activePage, totalPages, isDetail = false) {\n  if (!exercisesPagination) return;\n\n  exercisesPagination.innerHTML = '';\n  if (totalPages <= 1) return;\n\n  const maxVisiblePages = 5;\n  let startPage = Math.max(1, activePage - Math.floor(maxVisiblePages / 2));\n  let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\n\n  if (endPage - startPage < maxVisiblePages - 1) {\n    startPage = Math.max(1, endPage - maxVisiblePages + 1);\n  }\n\n  for (let i = startPage; i <= endPage; i++) {\n    exercisesPagination.appendChild(createPaginationButton(i, i, i === activePage, isDetail));\n  }\n}\n\nfunction createPaginationButton(text, page, isActive = false, isDetail = false) {\n  const btn = document.createElement('button');\n  btn.className = 'exercises__pagination-btn';\n  if (isActive) btn.classList.add('exercises__pagination-btn--active');\n  btn.textContent = text;\n\n  if (isDetail) {\n    btn.addEventListener('click', () => loadDetailExercises(currentCategory, currentFilter, page));\n  } else {\n    btn.addEventListener('click', () => loadCategories(currentFilter, page));\n  }\n\n  return btn;\n}\n\nasync function loadCategories(filter, page = 1) {\n  isDetailView = false;\n  currentCategory = null;\n  searchQuery = '';\n\n  updateUIForCategoryView();\n  showLoading();\n\n  const data = await fetchFilters(filter, page);\n\n  if (data && data.results) {\n    const activePage = parseInt(data.page, 10) || page;\n    const totalPages = parseInt(data.totalPages, 10) || 1;\n\n    renderCategories(data.results);\n    renderPagination(activePage, totalPages, false);\n\n    currentPage = activePage;\n    currentFilter = filter;\n  }\n\n  hideLoading();\n}\n\nasync function loadDetailExercises(category, filterType, page = 1) {\n  showLoading();\n\n  const data = await fetchExercisesByCategory(category, filterType, page, searchQuery);\n\n  if (data && data.results) {\n    const activePage = parseInt(data.page, 10) || page;\n    const totalPages = parseInt(data.totalPages, 10) || 1;\n\n    renderDetailExercises(data.results);\n    renderPagination(activePage, totalPages, true);\n    currentPage = activePage;\n  } else if (exercisesList) {\n    exercisesList.innerHTML = '<li class=\"exercises__error\">Failed to load exercises</li>';\n  }\n\n  hideLoading();\n}\n\nfunction showExercisesForCategory(categoryName) {\n  isDetailView = true;\n  currentCategory = categoryName;\n  currentPage = 1;\n\n  updateUIForDetailView(categoryName);\n  loadDetailExercises(categoryName, currentFilter, 1);\n}\n\nfunction updateUIForCategoryView() {\n  if (exercisesCategoryTitle) exercisesCategoryTitle.textContent = '';\n  if (exercisesSearch) exercisesSearch.style.display = 'none';\n  if (exercisesTabs) exercisesTabs.style.display = '';\n  if (exercisesSearchInput) exercisesSearchInput.value = '';\n}\n\nfunction updateUIForDetailView(categoryName) {\n  if (exercisesCategoryTitle) {\n    exercisesCategoryTitle.innerHTML = ` / <span class=\"exercises__category-name\">${capitalizeFirstLetter(\n      categoryName\n    )}</span>`;\n  }\n  if (exercisesSearch) exercisesSearch.style.display = '';\n}\n\nfunction capitalizeFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction showLoading() {\n  if (exercisesList) exercisesList.innerHTML = '<li class=\"exercises__loading\">Loading...</li>';\n}\n\nfunction hideLoading() {}\n\nfunction showError(message) {\n  if (exercisesList) exercisesList.innerHTML = `<li class=\"exercises__error\">${message}</li>`;\n}\n\nasync function openExerciseDetail(exerciseId) {\n  if (!exerciseModal) return;\n\n  openModal();\n  setModalState('loading');\n\n  const data = await fetchExerciseById(exerciseId);\n\n  if (!data) {\n    setModalState('error', 'Failed to load exercise details. Please try again later.');\n    return;\n  }\n\n  fillModalContent(data);\n  setModalState('ready');\n}\n\nfunction openModal() {\n  exerciseModal.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  exerciseModal.setAttribute('aria-hidden', 'false');\n}\n\nfunction closeModal() {\n  if (!exerciseModal) return;\n  exerciseModal.classList.remove('is-open');\n  exerciseModal.classList.remove('exercises__modal--loading', 'exercises__modal--error');\n  document.body.classList.remove('no-scroll');\n  exerciseModal.setAttribute('aria-hidden', 'true');\n}\n\nfunction openRatingModal() {\n  if (!ratingModal) return;\n  if (exerciseModal && exerciseModal.classList.contains('is-open')) closeModal();\n  resetRatingForm();\n  setRatingModalState('ready');\n  ratingModal.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  ratingModal.setAttribute('aria-hidden', 'false');\n}\n\nfunction closeRatingModal() {\n  if (!ratingModal) return;\n  ratingModal.classList.remove('is-open');\n  ratingModal.classList.remove('exercises__modal--loading', 'exercises__modal--error');\n  ratingModal.setAttribute('aria-hidden', 'true');\n  if (!exerciseModal || !exerciseModal.classList.contains('is-open')) {\n    document.body.classList.remove('no-scroll');\n  }\n}\n\nfunction setRatingModalState(state, message = '') {\n  if (!ratingModal) return;\n\n  ratingModal.classList.remove('exercises__modal--loading', 'exercises__modal--error');\n\n  if (state === 'loading') {\n    ratingModal.classList.add('exercises__modal--loading');\n    if (ratingModalError) ratingModalError.textContent = '';\n  }\n\n  if (state === 'error') {\n    ratingModal.classList.add('exercises__modal--error');\n    if (ratingModalError) ratingModalError.textContent = message;\n  }\n\n  if (state === 'ready') {\n    if (ratingModalError) ratingModalError.textContent = '';\n  }\n}\n\nfunction resetRatingForm() {\n  currentRatingValue = 0;\n  if (ratingEmailInput) ratingEmailInput.value = '';\n  if (ratingReviewInput) ratingReviewInput.value = '';\n  updateRatingModalStars(0);\n}\n\nfunction updateRatingModalStars(rating) {\n  if (!ratingModalStars || !ratingModalValue) return;\n\n  const stars = ratingModalStars.querySelectorAll('.exercises__rating-star');\n  const activeCount = Math.round(rating);\n\n  ratingModalValue.textContent = Number(rating).toFixed(1);\n\n  stars.forEach((star, index) => {\n    if (index < activeCount) star.classList.add('is-active');\n    else star.classList.remove('is-active');\n  });\n}\n\nasync function handleRatingSubmit(event) {\n  event.preventDefault();\n  if (!currentModalExercise) return;\n\n  const payload = {\n    rating: Number(currentRatingValue) || 0,\n  };\n\n  try {\n    setRatingModalState('loading');\n    const data = await submitExerciseRating(currentModalExercise._id, payload);\n\n    const newRating = data && typeof data.rating === 'number' ? data.rating : payload.rating;\n\n    currentModalExercise.rating = newRating;\n\n    if (exerciseModalRatingValue) {\n      exerciseModalRatingValue.textContent = newRating.toFixed(1);\n    }\n\n    updateStars(newRating);\n\n    const detailCard = document.querySelector(\n      `.exercises__detail-card[data-exercise-id=\"${currentModalExercise._id}\"]`\n    );\n    if (detailCard) {\n      const ratingValueEl = detailCard.querySelector('.exercises__detail-rating-value');\n      if (ratingValueEl) ratingValueEl.textContent = newRating.toFixed(1);\n    }\n\n    setRatingModalState('ready');\n    closeRatingModal();\n  } catch (error) {\n    setRatingModalState('error', error.message);\n  }\n}\n\nfunction setModalState(state, message = '') {\n  if (!exerciseModal) return;\n\n  exerciseModal.classList.remove('exercises__modal--loading', 'exercises__modal--error');\n\n  if (state === 'loading') {\n    exerciseModal.classList.add('exercises__modal--loading');\n    if (exerciseModalError) exerciseModalError.textContent = '';\n  }\n\n  if (state === 'error') {\n    exerciseModal.classList.add('exercises__modal--error');\n    if (exerciseModalError) exerciseModalError.textContent = message;\n  }\n\n  if (state === 'ready') {\n    if (exerciseModalError) exerciseModalError.textContent = '';\n  }\n}\n\nfunction fillModalContent(data) {\n  if (!exerciseModal) return;\n\n  currentModalExercise = data;\n\n  exerciseModalImg.src = data.gifUrl || data.imgURL || '../img/placeholder.jpg';\n  exerciseModalImg.alt = data.name || 'Exercise image';\n  exerciseModalTitle.textContent = data.name || 'Exercise';\n\n  const rating = data.rating ? Number(data.rating) : 0;\n  exerciseModalRatingValue.textContent = rating.toFixed(1);\n  updateStars(rating);\n\n  exerciseModalTarget.textContent = data.target || '-';\n  exerciseModalBodyPart.textContent = data.bodyPart || '-';\n  exerciseModalEquipment.textContent = data.equipment || '-';\n  exerciseModalPopularity.textContent = data.popularity || '0';\n  exerciseModalCalories.textContent = `${data.burnedCalories} / ${data.time} min`;\n  exerciseModalDescription.textContent = data.description || '';\n\n  updateFavoriteButtonState(isFavorite(data._id));\n}\n\nfunction updateFavoriteButtonState(isFav) {\n  if (!exerciseModalFavoriteBtnText) return;\n\n  exerciseModalFavoriteBtnText.textContent = isFav ? 'Remove from favorites' : 'Add to favorites';\n  if (exerciseModalFavoriteBtn) {\n    exerciseModalFavoriteBtn.classList.toggle('is-active', isFav);\n  }\n}\n\nfunction updateStars(rating) {\n  if (!exerciseModalStars) return;\n\n  const stars = exerciseModalStars.querySelectorAll('.exercises__modal-star');\n  const activeCount = Math.round(rating);\n\n  stars.forEach((star, index) => {\n    if (index < activeCount) star.classList.add('is-active');\n    else star.classList.remove('is-active');\n  });\n}\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nfunction initializeTabs() {\n  tabButtons = document.querySelectorAll('.exercises__tab');\n\n  const activeLine = document.createElement('div');\n  activeLine.className = 'exercises__tab--active_line';\n\n  const initialActiveTab = document.querySelector('.exercises__tab--active');\n  if (initialActiveTab) initialActiveTab.appendChild(activeLine);\n\n  tabButtons.forEach(tab => {\n    tab.addEventListener('click', () => {\n      tabButtons.forEach(t => t.classList.remove('exercises__tab--active'));\n      tab.classList.add('exercises__tab--active');\n      tab.appendChild(activeLine);\n\n      const filter = tab.dataset.filter;\n      loadCategories(filter, 1);\n    });\n  });\n}\n\nfunction initializeSearch() {\n  if (!exercisesSearchInput) return;\n\n  exercisesSearchInput.addEventListener(\n    'input',\n    debounce(e => {\n      searchQuery = e.target.value.trim();\n      if (isDetailView && currentCategory) {\n        loadDetailExercises(currentCategory, currentFilter, 1);\n      }\n    }, 300)\n  );\n}\n\nfunction init() {\n  exercisesList = document.getElementById('exercisesList');\n  exercisesPagination = document.getElementById('exercisesPagination');\n  exercisesTabs = document.getElementById('exercisesTabs');\n  exercisesSearch = document.getElementById('exercisesSearch');\n  exercisesSearchInput = document.getElementById('exercisesSearchInput');\n  exercisesCategoryTitle = document.getElementById('exercisesCategoryTitle');\n\n  exerciseModal = document.getElementById('exerciseModal');\n  exerciseModalImg = document.getElementById('exerciseModalImg');\n  exerciseModalTitle = document.getElementById('exerciseModalTitle');\n  exerciseModalRatingValue = document.getElementById('exerciseModalRatingValue');\n  exerciseModalStars = document.getElementById('exerciseModalStars');\n  exerciseModalTarget = document.getElementById('exerciseModalTarget');\n  exerciseModalBodyPart = document.getElementById('exerciseModalBodyPart');\n  exerciseModalEquipment = document.getElementById('exerciseModalEquipment');\n  exerciseModalPopularity = document.getElementById('exerciseModalPopularity');\n  exerciseModalCalories = document.getElementById('exerciseModalCalories');\n  exerciseModalDescription = document.getElementById('exerciseModalDescription');\n  exerciseModalError = document.getElementById('exerciseModalError');\n  exerciseModalFavoriteBtn = exerciseModal ? exerciseModal.querySelector('.exercises__modal-btn--primary') : null;\n  exerciseModalFavoriteBtnText = exerciseModal ? exerciseModal.querySelector('.exercises__modal-btn-text') : null;\n  exerciseModalRatingBtn = document.getElementById('exerciseModalRatingBtn');\n\n  ratingModal = document.getElementById('ratingModal');\n  ratingModalValue = document.getElementById('ratingModalValue');\n  ratingModalStars = document.getElementById('ratingModalStars');\n  ratingEmailInput = document.getElementById('ratingEmailInput');\n  ratingReviewInput = document.getElementById('ratingReviewInput');\n  ratingModalForm = document.getElementById('ratingModalForm');\n  ratingModalError = document.getElementById('ratingModalError');\n\n  if (!exercisesList) return;\n\n  initializeTabs();\n  initializeSearch();\n\n  if (exerciseModal) {\n    const closeTargets = exerciseModal.querySelectorAll('[data-modal-close]');\n    closeTargets.forEach(target => target.addEventListener('click', closeModal));\n\n    document.addEventListener('keydown', e => {\n      if (e.key !== 'Escape') return;\n\n      if (ratingModal && ratingModal.classList.contains('is-open')) {\n        closeRatingModal();\n        return;\n      }\n\n      if (exerciseModal.classList.contains('is-open')) {\n        closeModal();\n      }\n    });\n  }\n\n  if (ratingModal) {\n    const ratingCloseTargets = ratingModal.querySelectorAll('[data-modal-close]');\n    ratingCloseTargets.forEach(target => target.addEventListener('click', closeRatingModal));\n  }\n\n  if (exerciseModalFavoriteBtn) {\n    exerciseModalFavoriteBtn.addEventListener('click', () => {\n      if (!currentModalExercise) return;\n      const isFav = toggleFavorite(currentModalExercise);\n      updateFavoriteButtonState(isFav);\n    });\n  }\n\n  if (exerciseModalRatingBtn) {\n    exerciseModalRatingBtn.addEventListener('click', openRatingModal);\n  }\n\n  if (ratingModalStars) {\n    ratingModalStars.addEventListener('click', e => {\n      const target = e.target.closest('.exercises__rating-star');\n      if (!target) return;\n      const value = Number(target.dataset.value || 0);\n      currentRatingValue = value;\n      updateRatingModalStars(value);\n    });\n  }\n\n  if (ratingModalForm) {\n    ratingModalForm.addEventListener('submit', handleRatingSubmit);\n  }\n\n  loadCategories(currentFilter);\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\nexport { loadCategories, loadDetailExercises, showExercisesForCategory };\n","const body = document.body;\n\nconst menuButton = document.querySelector('.header_menu-btn');\nconst menu = document.querySelector('.mobile-menu');\nconst menuContent = document.querySelector('.mobile-menu__content');\nconst menuClose = document.querySelector('.mobile-menu__close');\n\nconst navLinks = document.querySelectorAll('[data-nav]');\n\nconst openMenu = () => {\n  if (!menu) return;\n\n  menu.classList.add('mobile-menu--open');\n  menu.setAttribute('aria-hidden', 'false');\n  body.style.overflow = 'hidden';\n};\n\nconst closeMenu = () => {\n  if (!menu) return;\n\n  menu.classList.remove('mobile-menu--open');\n  menu.setAttribute('aria-hidden', 'true');\n  body.style.overflow = '';\n};\n\nconst isFavoritesPath = path => {\n  const normalized = (path || '').toLowerCase();\n  return (\n    normalized.endsWith('/page-2.html') ||\n    normalized.endsWith('page-2.html') ||\n    normalized.endsWith('/favourites.html') ||\n    normalized.endsWith('favourites.html')\n  );\n};\n\nconst setActiveLinks = () => {\n  const path = window.location.pathname;\n  const isFavorites = isFavoritesPath(path);\n\n  navLinks.forEach(link => {\n    const isFavoritesLink = link.dataset.nav === 'favorites';\n    const isHomeLink = link.dataset.nav === 'home';\n    const isActive = isFavorites ? isFavoritesLink : isHomeLink;\n\n    if (link.classList.contains('header_nav-link')) {\n      link.classList.toggle('header_nav-link-active', isActive);\n    }\n\n    if (link.classList.contains('mobile-menu__link')) {\n      link.classList.toggle('mobile-menu__link--active', isActive);\n    }\n  });\n};\n\nif (menuButton && menu) {\n  menuButton.addEventListener('click', openMenu);\n}\n\nif (menuClose && menu) {\n  menuClose.addEventListener('click', closeMenu);\n}\n\nif (menu) {\n  menu.addEventListener('click', event => {\n    if (!menuContent) {\n      if (event.target === menu) closeMenu();\n      return;\n    }\n\n    const clickedInside = menuContent.contains(event.target);\n    if (!clickedInside) closeMenu();\n  });\n}\n\nnavLinks.forEach(link => {\n  link.addEventListener('click', closeMenu);\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeMenu();\n});\n\nsetActiveLinks();\n","const API_BASE_URL = 'https://your-energy.b.goit.study/api';\nconst QUOTE_ENDPOINT = `${API_BASE_URL}/quote`;\n\nlet quoteBlockEl;\nlet quoteImageWrapEl;\nlet quoteImageEl;\nlet quoteResizeObserver;\n\nfunction syncQuoteImageHeight() {\n  if (!quoteBlockEl || !quoteImageWrapEl) return;\n\n  const height = quoteBlockEl.offsetHeight;\n  if (height > 0) {\n    quoteImageWrapEl.style.height = `${height}px`;\n    if (quoteImageEl) {\n      quoteImageEl.style.height = '100%';\n    }\n  }\n}\n\nfunction updateQuote(data) {\n  const quoteEl = document.querySelector('.inspiration__quoteBlock__text_quote');\n  const authorEl = document.querySelector('.inspiration__quoteBlock__author');\n\n  if (!quoteEl || !authorEl || !data) return;\n\n  const quote = typeof data.quote === 'string' ? data.quote.trim() : '';\n  const author = typeof data.author === 'string' ? data.author.trim() : '';\n\n  if (quote) quoteEl.textContent = quote;\n  if (author) authorEl.textContent = author;\n\n  requestAnimationFrame(syncQuoteImageHeight);\n}\n\nasync function fetchQuote() {\n  try {\n    const response = await fetch(QUOTE_ENDPOINT, {\n      headers: { Accept: 'application/json' },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    updateQuote(data);\n  } catch (error) {\n    console.error('Error fetching quote:', error);\n  }\n}\n\nfunction initQuote() {\n  if (window.__quoteInitDone) return;\n  window.__quoteInitDone = true;\n\n  quoteBlockEl = document.querySelector('.inspiration__quoteBlock');\n  quoteImageWrapEl = document.querySelector('.inspiration__image');\n  quoteImageEl = quoteImageWrapEl ? quoteImageWrapEl.querySelector('img') : null;\n\n  syncQuoteImageHeight();\n\n  if (quoteResizeObserver) {\n    quoteResizeObserver.disconnect();\n    quoteResizeObserver = null;\n  }\n\n  if (quoteBlockEl && typeof ResizeObserver !== 'undefined') {\n    quoteResizeObserver = new ResizeObserver(syncQuoteImageHeight);\n    quoteResizeObserver.observe(quoteBlockEl);\n  } else {\n    window.addEventListener('resize', syncQuoteImageHeight);\n  }\n\n  fetchQuote();\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initQuote);\n} else {\n  initQuote();\n}\n","const API_BASE_URL = 'https://your-energy.b.goit.study/api';\nconst SUBSCRIPTION_ENDPOINT = `${API_BASE_URL}/subscription`;\n\nasync function submitSubscription(email) {\n  const response = await fetch(SUBSCRIPTION_ENDPOINT, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n    },\n    body: JSON.stringify({ email }),\n  });\n\n  const contentType = response.headers.get('content-type') || '';\n  const hasJson = contentType.includes('application/json');\n  const data = hasJson ? await response.json() : null;\n\n  if (!response.ok) {\n    const message =\n      data && typeof data.message === 'string' && data.message.trim()\n        ? data.message.trim()\n        : 'Subscription failed. Please try again later.';\n    throw new Error(message);\n  }\n\n  return data;\n}\n\nfunction setMessage(messageEl, text, state) {\n  if (!messageEl) return;\n  messageEl.textContent = text || '';\n  messageEl.classList.remove('is-success', 'is-error');\n  if (state) messageEl.classList.add(state);\n}\n\nfunction setLoading(form, isLoading) {\n  if (!form) return;\n\n  const submitBtn = form.querySelector('button[type=\"submit\"]');\n  const input = form.querySelector('input[type=\"email\"]');\n\n  if (submitBtn) {\n    submitBtn.disabled = isLoading;\n    submitBtn.textContent = isLoading ? 'Sending...' : 'Send';\n  }\n\n  if (input) input.disabled = isLoading;\n\n  form.setAttribute('aria-busy', String(isLoading));\n}\n\nfunction initFooterSubscription() {\n  if (window.__footerSubscribeInitDone) return;\n  window.__footerSubscribeInitDone = true;\n\n  const form = document.getElementById('footerSubscribeForm');\n  const input = document.getElementById('footerSubscribeInput');\n  const messageEl = document.getElementById('footerSubscribeMessage');\n\n  if (!form || !input || !messageEl) return;\n\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    if (!input.checkValidity()) {\n      input.reportValidity();\n      return;\n    }\n\n    const email = input.value.trim();\n    if (!email) return;\n\n    setMessage(messageEl, '', null);\n    setLoading(form, true);\n\n    try {\n      const data = await submitSubscription(email);\n      const text =\n        data && typeof data.message === 'string' && data.message.trim()\n          ? data.message.trim()\n          : 'Thanks for subscribing!';\n      setMessage(messageEl, text, 'is-success');\n      form.reset();\n    } catch (error) {\n      setMessage(messageEl, error.message || 'Subscription failed. Please try again later.', 'is-error');\n    } finally {\n      setLoading(form, false);\n    }\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initFooterSubscription);\n} else {\n  initFooterSubscription();\n}\n"],"names":["STORAGE_KEY","safeParse","value","parsed","normalizeExercise","exercise","getFavorites","raw","setFavorites","list","isFavorite","exerciseId","item","addFavorite","favorites","removeFavorite","next","toggleFavorite","renderFavorites","empty","template","clone","card","ratingValue","title","calories","bodypart","target","rating","burned","time","initializeFavoritesPage","event","removeBtn","id","API_BASE_URL","API_ENDPOINTS","currentFilter","currentCategory","isDetailView","searchQuery","getPerPage","width","exercisesList","exercisesPagination","tabButtons","exercisesTabs","exercisesSearch","exercisesSearchInput","exercisesCategoryTitle","exerciseModal","exerciseModalImg","exerciseModalTitle","exerciseModalRatingValue","exerciseModalStars","exerciseModalTarget","exerciseModalBodyPart","exerciseModalEquipment","exerciseModalPopularity","exerciseModalCalories","exerciseModalDescription","exerciseModalError","exerciseModalFavoriteBtn","exerciseModalFavoriteBtnText","exerciseModalRatingBtn","ratingModal","ratingModalValue","ratingModalStars","ratingEmailInput","ratingReviewInput","ratingModalForm","ratingModalError","currentModalExercise","currentRatingValue","fetchFilters","filter","page","params","response","error","showError","fetchExercisesByCategory","category","filterType","keyword","fetchExerciseById","submitExerciseRating","payload","data","message","createCategoryCard","img","subtitle","showExercisesForCategory","createDetailExerciseCard","e","openExerciseDetail","renderCategories","categories","renderDetailExercises","exercises","renderPagination","activePage","totalPages","isDetail","maxVisiblePages","startPage","endPage","i","createPaginationButton","text","isActive","btn","loadDetailExercises","loadCategories","updateUIForCategoryView","showLoading","categoryName","updateUIForDetailView","capitalizeFirstLetter","str","openModal","setModalState","fillModalContent","closeModal","openRatingModal","resetRatingForm","setRatingModalState","closeRatingModal","state","updateRatingModalStars","stars","activeCount","star","index","handleRatingSubmit","newRating","updateStars","detailCard","ratingValueEl","updateFavoriteButtonState","isFav","debounce","func","wait","timeout","args","later","initializeTabs","activeLine","initialActiveTab","tab","t","initializeSearch","init","body","menuButton","menu","menuContent","menuClose","navLinks","openMenu","closeMenu","isFavoritesPath","path","normalized","setActiveLinks","isFavorites","link","isFavoritesLink","isHomeLink","QUOTE_ENDPOINT","quoteBlockEl","quoteImageWrapEl","quoteImageEl","quoteResizeObserver","syncQuoteImageHeight","height","updateQuote","quoteEl","authorEl","quote","author","fetchQuote","initQuote","SUBSCRIPTION_ENDPOINT","submitSubscription","email","setMessage","messageEl","setLoading","form","isLoading","submitBtn","input","initFooterSubscription"],"mappings":"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"}